@model ELDNET.Models.StudentAccount
@{
    ViewData["Title"] = "Student Profile";
}

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
<link rel="stylesheet" href="~/css/StudentAccounts/Details.css" />

<div class="page-wrapper animate__animated animate__fadeIn">
    <div class="top-nav">
        <a asp-action="Index" class="btn-back">
            <i class="bi bi-arrow-left-circle-fill fs-5"></i>
            Back to Student Directory
        </a>
        <div class="text-muted fw-medium small">
            <i class="bi bi-clock-history me-1"></i>
            Last Updated: @DateTime.Now.ToString("MMM dd, yyyy")
        </div>
    </div>

    <header class="profile-hero">
        <div class="hero-avatar-wrapper">
            <img src="@(string.IsNullOrEmpty(Model.ProfilePictureUrl) ? "/images/defaultprofile.jpg" : Model.ProfilePictureUrl)"
                 class="hero-avatar" alt="Student Photo">
            <span class="status-indicator" title="Active Account"></span>
        </div>

        <div class="hero-info">
            <h1>@(string.IsNullOrWhiteSpace(Model.FullName) ? "Name Not Set" : Model.FullName)</h1>
            <p class="text-muted mb-0 fw-medium">
                <i class="bi bi-mortarboard-fill text-brand me-2"></i>
                @if (string.IsNullOrWhiteSpace(Model.Course))
                {
                    <span class="text-not-set">Course not set</span>
                }
                else
                {
                    <span>@Model.Course Student</span>
                }
            </p>
            <div class="hero-badge-group">
                <span class="badge-soft badge-primary">Section: @(string.IsNullOrWhiteSpace(Model.Section) ? "N/A" : Model.Section)</span>
                <span class="badge-soft badge-secondary">Academic Year 2024-2025</span>
            </div>
        </div>
    </header>

    <div class="info-grid">
        <div class="content-card">
            <h5 class="card-title">
                <i class="bi bi-shield-lock-fill"></i>
                Verified Personal Details
            </h5>

            <div class="detail-item">
                <div class="detail-label">Student ID</div>
                <div class="detail-value text-brand">
                    @if (string.IsNullOrWhiteSpace(Model.StudentId))
                    {
                        <span class="text-not-set">not set</span>
                    }
                    else
                    {
                        @Model.StudentId
                    }
                </div>
            </div>

            <div class="detail-item">
                <div class="detail-label">Email Address</div>
                <div class="detail-value">
                    @if (string.IsNullOrWhiteSpace(Model.Email))
                    {
                        <span class="text-not-set">not set</span>
                    }
                    else
                    {
                        @Model.Email
                    }
                </div>
            </div>

            <div class="detail-item">
                <div class="detail-label">Phone Contact</div>
                <div class="detail-value">
                    @if (string.IsNullOrWhiteSpace(Model.PhoneNumber))
                    {
                        <span class="text-not-set">not set</span>
                    }
                    else
                    {
                        @Model.PhoneNumber
                    }
                </div>
            </div>

            <div class="detail-item">
                <div class="detail-label">Gender</div>
                <div class="detail-value">
                    @if (string.IsNullOrWhiteSpace(Model.Gender))
                    {
                        <span class="text-not-set">not set</span>
                    }
                    else
                    {
                        @Model.Gender
                    }
                </div>
            </div>

            <div class="detail-item">
                <div class="detail-label">Major/Program</div>
                <div class="detail-value">
                    @if (string.IsNullOrWhiteSpace(Model.Course))
                    {
                        <span class="text-not-set">not set</span>
                    }
                    else
                    {
                        @Model.Course
                    }
                </div>
            </div>
        </div>

        <div class="sidebar-col">
            <div class="stat-widget">
                <div class="stat-label">System Account UID</div>
                <div class="stat-value">
                    <span class="id-tag">
                        #@Model.Id
                    </span>
                </div>
                <div class="mt-4 small d-flex align-items-center gap-2">
                    <i class="bi bi-patch-check-fill fs-5 text-white"></i>
                    <span>Verified Official Account</span>
                </div>
            </div>

            <div class="content-card admin-note-card">
                <h5 class="card-title" style="font-size: 1rem;">
                    <i class="bi bi-info-circle-fill"></i>
                    Academic Registry Note
                </h5>
                <p class="small text-muted mb-0 leading-relaxed">
                    This profile is synchronized with the Central Registrar database.
                    Changes to Student ID or Course must be filed via the Registrar's Office.
                </p>
                <hr class="my-4" style="opacity: 0.08;">
                <button class="btn btn-sm btn-light w-100 fw-bold py-2 border">
                    <i class="bi bi-printer-fill me-2"></i> Export Profile PDF
                </button>
            </div>
        </div>
    </div>
</div>

<script>
    document.querySelectorAll('.detail-item').forEach((item, index) => {
        item.style.animation = `fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards ${index * 0.08}s`;
        item.style.opacity = '0';
    });
</script>